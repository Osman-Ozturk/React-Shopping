{"ast":null,"code":"import _slicedToArray from\"/home/user/Desktop/WEBDEV/Project/React-Shopping/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/home/user/Desktop/WEBDEV/Project/React-Shopping/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/user/Desktop/WEBDEV/Project/React-Shopping/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useReducer,useEffect}from\"react\";import itemsArray from\"./meinDatei.json\";import Einkaufswagen from\"./Einkaufswagen\";import\"./ProdukList.scss\";import Produkt from\"./Produkt\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={shop:itemsArray,einkaufswagen:[],total:0};var reducer=function reducer(state,action){// eslint-disable-next-line default-case\nswitch(action.type){case\"addHandler\":{var newShop=state.shop.map(function(element){if(element.id===action.item.id){return _objectSpread(_objectSpread({},element),{},{inventory:element.inventory-1});}return element;});var newTotal=state.total+action.item.price;var newEinkauf;if(state.einkaufswagen.find(function(obj){return obj.id===action.item.id;})){newEinkauf=state.einkaufswagen.map(function(element){if(element.id===action.item.id){return _objectSpread(_objectSpread({},element),{},{inventory:element.inventory+1});}return element;});}else{newEinkauf=[].concat(_toConsumableArray(state.einkaufswagen),[_objectSpread(_objectSpread({},action.item),{},{inventory:1})]);}return{shop:newShop,einkaufswagen:newEinkauf,total:newTotal};}case\"removeOneHandler\":{var _newEinkauf;console.log(action.item);if(action.item.inventory>1){_newEinkauf=state.einkaufswagen.map(function(element){if(element.id===action.item.id){return _objectSpread(_objectSpread({},element),{},{inventory:element.inventory-1});}return element;});}else{var index=state.einkaufswagen.indexOf(action.item);var newWagen=state.einkaufswagen.slice(0,index).concat(state.einkaufswagen.slice(index+1));_newEinkauf=newWagen;}var _newShop=state.shop.map(function(element){if(element.id===action.item.id){return _objectSpread(_objectSpread({},element),{},{inventory:element.inventory+1});}return element;});var _newTotal=+state.total-action.item.price;return{shop:_newShop,einkaufswagen:_newEinkauf,total:_newTotal};}case\"removeAllHandler\":{var _index=state.einkaufswagen.indexOf(action.item);var _newWagen=state.einkaufswagen.slice(0,_index).concat(state.einkaufswagen.slice(_index+1));var _newShop2=state.shop.map(function(element){if(element.id===action.item.id){return _objectSpread(_objectSpread({},element),{},{inventory:element.inventory+action.item.inventory});}return element;});var _newTotal2=+state.total-action.item.price*action.item.inventory;return{shop:_newShop2,einkaufswagen:_newWagen,total:_newTotal2};}case\"checkOutHandler\":{localStorage.setItem(\"shop\",JSON.stringify(state.shop));var _newEinkauf2=[];var _newTotal3=0;return _objectSpread(_objectSpread({},state),{},{einkaufswagen:_newEinkauf2,total:_newTotal3});}}throw new Error(\"Unbekannte action type: \".concat(action.type));};function ProdukList(){var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var addHandler=function addHandler(item){dispatch({type:\"addHandler\",item:item});};var removeOneHandler=function removeOneHandler(item){dispatch({type:\"removeOneHandler\",item:item});};var checkOutHandler=function checkOutHandler(){dispatch({type:\"checkOutHandler\"});};var removeAllHandler=function removeAllHandler(item){dispatch({type:\"removeAllHandler\",item:item});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"ul\",{children:state.shop.map(function(item,i){return/*#__PURE__*/_jsx(Produkt,{item:item,addHandler:addHandler});})}),/*#__PURE__*/_jsx(Einkaufswagen,{removeOneHandler:removeOneHandler,removeAllHandler:removeAllHandler,einkaufswagen:state.einkaufswagen,checkOutHandler:checkOutHandler,total:state.total,shop:state.shop})]});}export default ProdukList;","map":{"version":3,"names":["React","useReducer","useEffect","itemsArray","Einkaufswagen","Produkt","initialState","shop","einkaufswagen","total","reducer","state","action","type","newShop","map","element","id","item","inventory","newTotal","price","newEinkauf","find","obj","console","log","index","indexOf","newWagen","slice","concat","localStorage","setItem","JSON","stringify","Error","ProdukList","dispatch","addHandler","removeOneHandler","checkOutHandler","removeAllHandler","i"],"sources":["/home/user/Desktop/WEBDEV/Project/React-Shopping/src/components/ProdukList.js"],"sourcesContent":["import React, { useReducer, useEffect } from \"react\";\nimport itemsArray from \"./meinDatei.json\";\nimport Einkaufswagen from \"./Einkaufswagen\";\nimport \"./ProdukList.scss\";\nimport Produkt from \"./Produkt\";\nconst initialState = {\n  shop: itemsArray,\n  einkaufswagen: [],\n  total: 0,\n};\nconst reducer = (state, action) => {\n  // eslint-disable-next-line default-case\n  switch (action.type) {\n    case \"addHandler\": {\n      const newShop = state.shop.map((element) => {\n        if (element.id === action.item.id) {\n          return { ...element, inventory: element.inventory - 1 };\n        }\n        return element;\n      });\n\n      const newTotal = state.total + action.item.price;\n      let newEinkauf;\n      if (state.einkaufswagen.find((obj) => obj.id === action.item.id)) {\n        newEinkauf = state.einkaufswagen.map((element) => {\n          if (element.id === action.item.id) {\n            return { ...element, inventory: element.inventory + 1 };\n          }\n          return element;\n        });\n      } else {\n        newEinkauf = [...state.einkaufswagen, { ...action.item, inventory: 1 }];\n      }\n      return { shop: newShop, einkaufswagen: newEinkauf, total: newTotal };\n    }\n    case \"removeOneHandler\": {\n      let newEinkauf;\n      console.log(action.item);\n      if (action.item.inventory > 1) {\n        newEinkauf = state.einkaufswagen.map((element) => {\n          if (element.id === action.item.id) {\n            return { ...element, inventory: element.inventory - 1 };\n          }\n          return element;\n        });\n      } else {\n        const index = state.einkaufswagen.indexOf(action.item);\n        const newWagen = state.einkaufswagen\n          .slice(0, index)\n          .concat(state.einkaufswagen.slice(index + 1));\n        newEinkauf = newWagen;\n      }\n      const newShop = state.shop.map((element) => {\n        if (element.id === action.item.id) {\n          return { ...element, inventory: element.inventory + 1 };\n        }\n        return element;\n      });\n      const newTotal = +state.total - action.item.price;\n\n      return { shop: newShop, einkaufswagen: newEinkauf, total: newTotal };\n    }\n    case \"removeAllHandler\": {\n      const index = state.einkaufswagen.indexOf(action.item);\n      const newWagen = state.einkaufswagen\n        .slice(0, index)\n        .concat(state.einkaufswagen.slice(index + 1));\n      const newShop = state.shop.map((element) => {\n        if (element.id === action.item.id) {\n          return {\n            ...element,\n            inventory: element.inventory + action.item.inventory,\n          };\n        }\n        return element;\n      });\n      const newTotal = +state.total - action.item.price * action.item.inventory;\n      return { shop: newShop, einkaufswagen: newWagen, total: newTotal };\n    }\n    case \"checkOutHandler\": {\n      localStorage.setItem(\"shop\", JSON.stringify(state.shop));\n      const newEinkauf = [];\n      const newTotal = 0;\n      return { ...state, einkaufswagen: newEinkauf, total: newTotal };\n    }\n  }\n  throw new Error(`Unbekannte action type: ${action.type}`);\n};\nfunction ProdukList() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const addHandler = (item) => {\n    dispatch({ type: \"addHandler\", item });\n  };\n  const removeOneHandler = (item) => {\n    dispatch({ type: \"removeOneHandler\", item });\n  };\n  const checkOutHandler = () => {\n    dispatch({ type: \"checkOutHandler\" });\n  };\n  const removeAllHandler = (item) => {\n    dispatch({ type: \"removeAllHandler\", item });\n  };\n  return (\n    <div>\n      <ul>\n        {state.shop.map((item, i) => {\n          return <Produkt item={item} addHandler={addHandler} />;\n        })}\n      </ul>\n      <Einkaufswagen\n        removeOneHandler={removeOneHandler}\n        removeAllHandler={removeAllHandler}\n        einkaufswagen={state.einkaufswagen}\n        checkOutHandler={checkOutHandler}\n        total={state.total}\n        shop={state.shop}\n      />\n    </div>\n  );\n}\n\nexport default ProdukList;\n"],"mappings":"yZAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,MAAOC,WAAU,KAAM,kBAAkB,CACzC,MAAOC,cAAa,KAAM,iBAAiB,CAC3C,MAAO,mBAAmB,CAC1B,MAAOC,QAAO,KAAM,WAAW,CAAC,wFAChC,GAAMC,aAAY,CAAG,CACnBC,IAAI,CAAEJ,UAAU,CAChBK,aAAa,CAAE,EAAE,CACjBC,KAAK,CAAE,CACT,CAAC,CACD,GAAMC,QAAO,CAAG,QAAVA,QAAO,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACjC;AACA,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,YAAY,CAAE,CACjB,GAAMC,QAAO,CAAGH,KAAK,CAACJ,IAAI,CAACQ,GAAG,CAAC,SAACC,OAAO,CAAK,CAC1C,GAAIA,OAAO,CAACC,EAAE,GAAKL,MAAM,CAACM,IAAI,CAACD,EAAE,CAAE,CACjC,sCAAYD,OAAO,MAAEG,SAAS,CAAEH,OAAO,CAACG,SAAS,CAAG,CAAC,GACvD,CACA,MAAOH,QAAO,CAChB,CAAC,CAAC,CAEF,GAAMI,SAAQ,CAAGT,KAAK,CAACF,KAAK,CAAGG,MAAM,CAACM,IAAI,CAACG,KAAK,CAChD,GAAIC,WAAU,CACd,GAAIX,KAAK,CAACH,aAAa,CAACe,IAAI,CAAC,SAACC,GAAG,QAAKA,IAAG,CAACP,EAAE,GAAKL,MAAM,CAACM,IAAI,CAACD,EAAE,GAAC,CAAE,CAChEK,UAAU,CAAGX,KAAK,CAACH,aAAa,CAACO,GAAG,CAAC,SAACC,OAAO,CAAK,CAChD,GAAIA,OAAO,CAACC,EAAE,GAAKL,MAAM,CAACM,IAAI,CAACD,EAAE,CAAE,CACjC,sCAAYD,OAAO,MAAEG,SAAS,CAAEH,OAAO,CAACG,SAAS,CAAG,CAAC,GACvD,CACA,MAAOH,QAAO,CAChB,CAAC,CAAC,CACJ,CAAC,IAAM,CACLM,UAAU,8BAAOX,KAAK,CAACH,aAAa,kCAAOI,MAAM,CAACM,IAAI,MAAEC,SAAS,CAAE,CAAC,IAAG,CACzE,CACA,MAAO,CAAEZ,IAAI,CAAEO,OAAO,CAAEN,aAAa,CAAEc,UAAU,CAAEb,KAAK,CAAEW,QAAS,CAAC,CACtE,CACA,IAAK,kBAAkB,CAAE,CACvB,GAAIE,YAAU,CACdG,OAAO,CAACC,GAAG,CAACd,MAAM,CAACM,IAAI,CAAC,CACxB,GAAIN,MAAM,CAACM,IAAI,CAACC,SAAS,CAAG,CAAC,CAAE,CAC7BG,WAAU,CAAGX,KAAK,CAACH,aAAa,CAACO,GAAG,CAAC,SAACC,OAAO,CAAK,CAChD,GAAIA,OAAO,CAACC,EAAE,GAAKL,MAAM,CAACM,IAAI,CAACD,EAAE,CAAE,CACjC,sCAAYD,OAAO,MAAEG,SAAS,CAAEH,OAAO,CAACG,SAAS,CAAG,CAAC,GACvD,CACA,MAAOH,QAAO,CAChB,CAAC,CAAC,CACJ,CAAC,IAAM,CACL,GAAMW,MAAK,CAAGhB,KAAK,CAACH,aAAa,CAACoB,OAAO,CAAChB,MAAM,CAACM,IAAI,CAAC,CACtD,GAAMW,SAAQ,CAAGlB,KAAK,CAACH,aAAa,CACjCsB,KAAK,CAAC,CAAC,CAAEH,KAAK,CAAC,CACfI,MAAM,CAACpB,KAAK,CAACH,aAAa,CAACsB,KAAK,CAACH,KAAK,CAAG,CAAC,CAAC,CAAC,CAC/CL,WAAU,CAAGO,QAAQ,CACvB,CACA,GAAMf,SAAO,CAAGH,KAAK,CAACJ,IAAI,CAACQ,GAAG,CAAC,SAACC,OAAO,CAAK,CAC1C,GAAIA,OAAO,CAACC,EAAE,GAAKL,MAAM,CAACM,IAAI,CAACD,EAAE,CAAE,CACjC,sCAAYD,OAAO,MAAEG,SAAS,CAAEH,OAAO,CAACG,SAAS,CAAG,CAAC,GACvD,CACA,MAAOH,QAAO,CAChB,CAAC,CAAC,CACF,GAAMI,UAAQ,CAAG,CAACT,KAAK,CAACF,KAAK,CAAGG,MAAM,CAACM,IAAI,CAACG,KAAK,CAEjD,MAAO,CAAEd,IAAI,CAAEO,QAAO,CAAEN,aAAa,CAAEc,WAAU,CAAEb,KAAK,CAAEW,SAAS,CAAC,CACtE,CACA,IAAK,kBAAkB,CAAE,CACvB,GAAMO,OAAK,CAAGhB,KAAK,CAACH,aAAa,CAACoB,OAAO,CAAChB,MAAM,CAACM,IAAI,CAAC,CACtD,GAAMW,UAAQ,CAAGlB,KAAK,CAACH,aAAa,CACjCsB,KAAK,CAAC,CAAC,CAAEH,MAAK,CAAC,CACfI,MAAM,CAACpB,KAAK,CAACH,aAAa,CAACsB,KAAK,CAACH,MAAK,CAAG,CAAC,CAAC,CAAC,CAC/C,GAAMb,UAAO,CAAGH,KAAK,CAACJ,IAAI,CAACQ,GAAG,CAAC,SAACC,OAAO,CAAK,CAC1C,GAAIA,OAAO,CAACC,EAAE,GAAKL,MAAM,CAACM,IAAI,CAACD,EAAE,CAAE,CACjC,sCACKD,OAAO,MACVG,SAAS,CAAEH,OAAO,CAACG,SAAS,CAAGP,MAAM,CAACM,IAAI,CAACC,SAAS,GAExD,CACA,MAAOH,QAAO,CAChB,CAAC,CAAC,CACF,GAAMI,WAAQ,CAAG,CAACT,KAAK,CAACF,KAAK,CAAGG,MAAM,CAACM,IAAI,CAACG,KAAK,CAAGT,MAAM,CAACM,IAAI,CAACC,SAAS,CACzE,MAAO,CAAEZ,IAAI,CAAEO,SAAO,CAAEN,aAAa,CAAEqB,SAAQ,CAAEpB,KAAK,CAAEW,UAAS,CAAC,CACpE,CACA,IAAK,iBAAiB,CAAE,CACtBY,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAACxB,KAAK,CAACJ,IAAI,CAAC,CAAC,CACxD,GAAMe,aAAU,CAAG,EAAE,CACrB,GAAMF,WAAQ,CAAG,CAAC,CAClB,sCAAYT,KAAK,MAAEH,aAAa,CAAEc,YAAU,CAAEb,KAAK,CAAEW,UAAQ,GAC/D,CAAC,CAEH,KAAM,IAAIgB,MAAK,mCAA4BxB,MAAM,CAACC,IAAI,EAAG,CAC3D,CAAC,CACD,QAASwB,WAAU,EAAG,CACpB,gBAA0BpC,UAAU,CAACS,OAAO,CAAEJ,YAAY,CAAC,4CAApDK,KAAK,iBAAE2B,QAAQ,iBAEtB,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIrB,IAAI,CAAK,CAC3BoB,QAAQ,CAAC,CAAEzB,IAAI,CAAE,YAAY,CAAEK,IAAI,CAAJA,IAAK,CAAC,CAAC,CACxC,CAAC,CACD,GAAMsB,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAItB,IAAI,CAAK,CACjCoB,QAAQ,CAAC,CAAEzB,IAAI,CAAE,kBAAkB,CAAEK,IAAI,CAAJA,IAAK,CAAC,CAAC,CAC9C,CAAC,CACD,GAAMuB,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5BH,QAAQ,CAAC,CAAEzB,IAAI,CAAE,iBAAkB,CAAC,CAAC,CACvC,CAAC,CACD,GAAM6B,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIxB,IAAI,CAAK,CACjCoB,QAAQ,CAAC,CAAEzB,IAAI,CAAE,kBAAkB,CAAEK,IAAI,CAAJA,IAAK,CAAC,CAAC,CAC9C,CAAC,CACD,mBACE,oCACE,oBACGP,KAAK,CAACJ,IAAI,CAACQ,GAAG,CAAC,SAACG,IAAI,CAAEyB,CAAC,CAAK,CAC3B,mBAAO,KAAC,OAAO,EAAC,IAAI,CAAEzB,IAAK,CAAC,UAAU,CAAEqB,UAAW,EAAG,CACxD,CAAC,CAAC,EACC,cACL,KAAC,aAAa,EACZ,gBAAgB,CAAEC,gBAAiB,CACnC,gBAAgB,CAAEE,gBAAiB,CACnC,aAAa,CAAE/B,KAAK,CAACH,aAAc,CACnC,eAAe,CAAEiC,eAAgB,CACjC,KAAK,CAAE9B,KAAK,CAACF,KAAM,CACnB,IAAI,CAAEE,KAAK,CAACJ,IAAK,EACjB,GACE,CAEV,CAEA,cAAe8B,WAAU"},"metadata":{},"sourceType":"module"}